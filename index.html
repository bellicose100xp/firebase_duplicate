<!DOCTYPE html>
<html ng-app="myApp">
<head lang="en">
    <meta charset="UTF-8">
    <title>Prevent Duplicates in Input</title>

    <link href="bower_components/bootstrap/dist/css/bootstrap.css" rel="stylesheet">
    <link href="bower_components/bootstrap/dist/css/bootstrap-theme.css" rel="stylesheet">
    <link href="app/app.css" rel="stylesheet">

    <script src="bower_components/angular/angular.js"></script>
    <script src="bower_components/jquery/dist/jquery.js"></script>
    <script src="bower_components/bootstrap/dist/js/bootstrap.js"></script>
    <script src="https://cdn.firebase.com/js/client/2.0.4/firebase.js"></script>
    <script src="https://cdn.firebase.com/libs/angularfire/0.9.0/angularfire.min.js"></script>
    <script src="bower_components/angular/angular-messages.js"></script>

    <script src="app/app.js"></script>

</head>
<body ng-controller="myController">
<div class="container">
    <h2> Style & Category Matrix</h2>
    <br>
<form name="productForm" ng-submit="addStyle(productForm.$valid)" novalidate>

    <!--style entry-->
    <label for="style">Style</label>
    <input name="style" id="style" type="text" ng-model="product.style" capitalize check-duplicate required>

    <!--Categoy Entry-->
    <label for="categoryOptions">Category</label>
    <select name="categoryOptions" id="categoryOptions" ng-model="product.category" ng-options="categoryOption.name for categoryOption in categoryOptions" required>
        <option value="" disabled selected style="display: none;">Select a category...</option>
    </select>
    <!--{{product.category}}-->
    <!--<button ng-click="checkDuplicate()">Check Duplicate and add product</button> {{isDuplicate}}-->
<button type="submit">Add Style</button>

        <span ng-messages="productForm.style.$error">
        <span class="my-danger" ng-message="isDuplicateValue"> Duplicate Warning: {{product.style}} is already present in the System </span>
        </span>

        <span ng-messages="productForm.style.$touched && productForm.style.$error">
        <span class="my-warning" ng-message="required"> Style is Required </span>
        </span>

    <span ng-messages="productForm.categoryOptions.$touched && productForm.categoryOptions.$error">
        <span class="my-warning" ng-message="required"> You must select a category... </span>
        </span>

    <!--{{productForm.style.$error | json}}-->
</form>
<br>
<table class="table">
    <thead>
        <th>Style</th>
        <th>Category</th>
        <th>Color</th>
        <th>Retail</th>
    </thead>
    <tbody>
        <tr ng-repeat="item in allStyles">
            <td>{{item.style}}</td>
            <td style="width: 30px">{{item.category.name}}</td>
            <td style="background-color: {{item.category.color}};width: 20px"></td>
            <td>{{item.category.retail | currency}}</td>
            <td><button ng-click="allStyles.$remove(item)">Delete</button> </td>
        </tr>
    </tbody>
</table>
</div>
</body>
</html>